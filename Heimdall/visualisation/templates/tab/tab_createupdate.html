{% extends "visualisation.html" %}

{% block title %}
    Tab
{% endblock %}

{% block static %}
{% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'grid.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/menubar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/form_V2-0.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/modalboxes.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/footer.css' %}">
{% endblock static %}

{% block content %}
<section class="form-section">
    <form class="form-form" method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for hidden in form.hidden_fields %}
            {{ hidden }}
        {% endfor %}
        <div class="form-group">
            {% for field in form.visible_fields %}
            <div class="form-item">
                {{ field.errors }}
                <div class="form-label">
                    {% if field.label.class %}
                    <label for="{{ field.auto_id }}">{{ field.label.name }}</label>
                    {% else %}
                    <label for="{{ field.auto_id }}">{{ field.label }}</label>
                    {% endif %}
                    <label class="icon" for="icon-{{ field.auto_id }}">
                        <img src="{% static 'icons/information.png' %}" alt="Icon" width="18" height="18">
                    </label>
                </div>
                <input class="checkbox" type="checkbox" id="icon-{{ field.auto_id }}" hidden>
                <div class="form-item">
                    {{ field.help_text }}
                </div>
                {{ field }}
            </div>
            {% endfor %}
        </div>
        <div class="buttons">
            <a class="return" href="{% url 'Visualisation:visualisation' %}">Abbrechen</a>
            {% if queryset %}
            <label for="delete">
                <img src="{% static 'icons/delete.png' %}" alt="Icon" width="18" height="18">
                <span>Löschen</span>
            </label>
            <input type="checkbox" id="delete" name="delete" hidden>
            <div class="modalbox">
                <div class="content">
                    Soll dieses Objekt wirklich gelöscht werden?
                    <div>
                        <label class="hover-error" for="delete">
                        Abbrechen
                        </label>
                        {% if queryset.id %}
                        <a class="hover-success" href="{% url 'Visualisation:tab_delete' id=queryset.id %}">
                            Bestätigen
                        </a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endif %}
            <input type="submit" value="OK">
        </div>
    </form>
</section>
{% endblock content %}